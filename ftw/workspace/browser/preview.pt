<div class="ViewChooser" i18n:domain="ftw.workspace">
    <a id="documents" href="#" i18n:translate="documents_pill_list">
        Liste
    </a> |
    <span id="events-calendar">
        <b i18n:translate="documents_pill_preview">Preview</b>
    </span>
</div>

<div class="previewContainer">

  <tal:loop repeat="preview view/get_previews">
    <a class="colorboxLink" rel="entry"
       tal:define="width python: preview.get_scale_properties()[0];
                   height python: preview.get_scale_properties()[1]"
       tal:attributes="href string:${preview/full_url};
                       title preview/context/pretty_title_or_id;
                       style string:width:${width}px;;height:${height}px;;">
       <tal:img replace="structure preview/preview" />
    <span class="previewTitle" tal:content="preview/context/pretty_title_or_id" />
    </a>

  </tal:loop>

  <script type="text/javascript">
  $('a.colorboxLink').colorbox(
    {
      'photo': true,
      'current': '{current}/{total}',
      'maxWidth': '100%',
      'maxHeight': '100%'
    });
  </script>
</div>