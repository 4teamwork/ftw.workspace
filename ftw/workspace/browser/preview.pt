<div class="ViewChooser" i18n:domain="ftw.workspace">
    <a id="documents" href="#" i18n:translate="documents_pill_list">
        Liste
    </a> |
    <span id="events-calendar">
        <b i18n:translate="documents_pill_preview">Preview</b>
    </span>
</div>


  <tal:groups tal:define="keys python:view.get_previews()['keys']"
              repeat="group python:view.get_previews()['previews']">

    <h2 class="previewGroupTitle" tal:content="python: keys[repeat['group'].index]" />

    <div class="previewContainer">
      <tal:items repeat="preview group">

        <a class="colorboxLink" rel="entry"
           tal:define="width python: preview.get_scale_properties()[0];
                       height python: preview.get_scale_properties()[1]"
           tal:attributes="href string:${preview/full_url};
                           title preview/context/pretty_title_or_id;
                           style string:width:${width}px;;height:${height}px;;">
           <tal:img replace="structure preview/preview" />
        <span class="previewTitle" tal:content="preview/context/pretty_title_or_id" />
        </a>

      </tal:items>
    </div>

  </tal:groups>

  <script type="text/javascript">
  $('a.colorboxLink').colorbox(
    {
      'photo': true,
      'current': '{current}/{total}',
      'maxWidth': '100%',
      'maxHeight': '100%'
    });
  </script>
